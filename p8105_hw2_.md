p8105_hw2_mgw2144
================
2023-09-27

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(here)
```

    ## here() starts at C:/Users/magno/Desktop/p8105_hw2_mgw2144

``` r
rm(list=ls())
project.folder=
  paste0(print(here::here()),'/')
```

    ## [1] "C:/Users/magno/Desktop/p8105_hw2_mgw2144"

Problem 1

``` r
pols_month_df =
  read_csv(paste0(project.folder,"/data/pols-month.csv")) %>% 
  janitor::clean_names()%>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(
    month = replace(month, month == "01", "jan"),
    month = replace(month, month == "02", "feb"),
    month = replace(month, month == "03", "mar"),
    month = replace(month, month == "04", "apr"),
    month = replace(month, month == "05", "may"),
    month = replace(month, month == "06", "jun"),
    month = replace(month, month == "07", "jul"),
    month = replace(month, month == "08", "aug"),
    month = replace(month, month == "09", "sep"),
    month = replace(month, month == "10", "oct"),
    month = replace(month, month == "11", "nov"),
    month = replace(month, month == "12", "dec")
  ) %>% 
  mutate(president = if_else(prez_gop ==1, "gop", "dem")) %>% 
   select(-day, -prez_gop, -prez_dem)
```

    ## Rows: 822 Columns: 9
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl  (8): prez_gop, gov_gop, sen_gop, rep_gop, prez_dem, gov_dem, sen_dem, r...
    ## date (1): mon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
snp_df = 
 read_csv(paste0(project.folder,"/data/snp.csv")) %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year")) %>% 
  mutate(
    month = replace(month, month == "1", "jan"),
    month = replace(month, month == "2", "feb"),
    month = replace(month, month == "3", "mar"),
    month = replace(month, month == "4", "apr"),
    month = replace(month, month == "5", "may"),
    month = replace(month, month == "6", "jun"),
    month = replace(month, month == "7", "jul"),
    month = replace(month, month == "8", "aug"),
    month = replace(month, month == "9", "sep"),
    month = replace(month, month == "10", "oct"),
    month = replace(month, month == "11", "nov"),
    month = replace(month, month == "12", "dec")
  ) %>% 
  select(-day) %>% 
  relocate(year, month)
```

    ## Rows: 787 Columns: 2
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): date
    ## dbl (1): close
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
unemployment_df = 
 read_csv(paste0(project.folder,"/data/unemployment.csv")) %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "percent_unemployed"
  )
```

    ## Rows: 68 Columns: 13
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## dbl (13): Year, Jan, Feb, Mar, Apr, May, Jun, Jul, Aug, Sep, Oct, Nov, Dec
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

merge step

``` r
pols_snp_merge=
  left_join(pols_month_df, snp_df, by = "year")
```

#### 

will come backt to this \####

Problem 2

``` r
mr_trash_wheel=
  readxl::read_excel(paste0(project.folder,"/data/202309 Trash Wheel Collection Data.xlsx"), sheet = 1, range = "A2:N586") %>%
  janitor::clean_names() %>% 
  mutate(
    homes_powered=((weight_tons*500)/1000),
    year = as.integer(year),
    trash_data = "mr_tw")%>% 
  relocate(trash_data)
```

``` r
professor_trash_wheel=
  readxl::read_excel(paste0(project.folder,"/data/202309 Trash Wheel Collection Data.xlsx"), sheet=2, range = "A2:M108") %>% 
  janitor::clean_names() %>% 
  mutate(homes_powered=(
    (weight_tons*500)/1000),
    year = as.integer(year),
    trash_data = "professor_tw")%>% 
  relocate(trash_data)
```

``` r
gwynnda_trash_wheel=
  readxl::read_excel(paste0(project.folder,"/data/202309 Trash Wheel Collection Data.xlsx"), sheet=4, range = "A2:L157") %>% 
  janitor::clean_names() %>% 
  mutate(homes_powered=(
    (weight_tons*500)/1000), 
    year = as.integer(year), 
    trash_data = "gwynnda_tw")%>% 
  relocate(trash_data)

gwynnda_july_2021=
  gwynnda_trash_wheel %>% 
  filter(month == "July") %>% 
  filter(year == "2021")
```

``` r
trash_wheel_total=
  bind_rows(mr_trash_wheel, professor_trash_wheel, gwynnda_trash_wheel) %>%
  janitor::clean_names()
```

The collection of Mr. Trash Wheel datasets records information of a
water-wheel vessel tht removed trash from the Inner Harbor in Baltimore,
Maryland. The combined dataset created above contains information from
the Mr. Trash Wheel, Professor Trash Wheel, and Gywnnda Trash Wheel
datasets with a total of 845 observations. The total weight of trash
collected by Professor Trash Wheel was 216.26 tons. The total number of
cigarette butts collected by Gwynnda in July of 2021 is 1.63^{4}.

Problem 3

``` r
mci_baseline=
  read_csv(paste0(project.folder,"/data/MCI_baseline.csv"), skip = 1) %>% 
  janitor::clean_names() 
```

    ## Rows: 483 Columns: 6
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (1): Age at onset
    ## dbl (5): ID, Current Age, Sex, Education, apoe4
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
mci_baseline_clean=
  mci_baseline %>% 
  mutate(sex = recode(sex, `1` = "male", `0`="female")) %>% 
  mutate(apoe4 = recode(apoe4, `1`="carrier", `0`="non-carrier")) %>% 
  filter(age_at_onset > current_age | age_at_onset == ".") 

mci_apoe_c=
  mci_baseline_clean %>% 
  filter(sex == "female") %>% 
  filter(apoe4 == "carrier") %>% 
  mutate(apoe4 = recode(apoe4, "carrier" = 1))
  
mci_apoe_nc=
  mci_baseline_clean %>% 
  filter(sex == "female") %>% 
  filter(apoe4 == "non-carrier") %>% 
   mutate(apoe4 = recode(apoe4, "non-carrier" = 1))
```

Important steps in the import process include utilizing the read_csv()
function to import the data so that it can be cleaned and manipulated.
Important features of the dataset include patient ID number, sex, APOE4
gene carrier status, and age of MCI onset for participants. There were
originally 483 participants recruited and 479 of these participants were
MCI free at baseline. The average baseline age is 65.0467909 years old.
30 percent of women in the study are APOE4 carriers.

``` r
mci_amyloid=
  read_csv(paste0(project.folder,"/data/mci_amyloid.csv"), skip = 1) %>% 
  janitor::clean_names() %>% 
  rename("time_0" = baseline) %>%  
  rename("id" = study_id) %>% 
  pivot_longer(
    time_0:time_8,
    names_to = "time",
    values_to = "amyloid_value"
  ) 
```

    ## Rows: 487 Columns: 6
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (5): Baseline, Time 2, Time 4, Time 6, Time 8
    ## dbl (1): Study ID
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

The import process for this data set involves reading in the csv file
for the mci_amyloid data utilizing its relative path name. Some of the
prominent features of the dataset include patient ID number, and the
time elapsed since the study baseline to the visit where the biomarker
Amyloid \_ 42/40 ratio was measured marked at baseline and years 2, 4,
6, and 8. In cleaning the dataset I removed individuals with missing
values from the dataset and changed the column name of participant IDs
from “study_id” to “id” to match the “id” column name in the baseline
data.

relavent features: rows and columns, variables present, why results came
from what join

``` r
mci_unique=
  anti_join(mci_baseline_clean, mci_amyloid, by = "id")
```

### 

Check whether some participants appear in only the baseline or amyloid
datasets, and comment on your findings. \###

``` r
mci_combine=
  inner_join(mci_baseline_clean, mci_amyloid, by = "id")
```

The dataset “mci_combine” created by merging only the data on
participants in both the “mci_baseline” and “mci_amyloid” datasets has
2355 particpants included.

### 

export the result as a CSV to your data directory. \###
