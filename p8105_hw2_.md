p8105_hw2_mgw2144
================
2023-09-27

``` r
library(tidyverse)
```

    ## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
    ## ✔ dplyr     1.1.3     ✔ readr     2.1.4
    ## ✔ forcats   1.0.0     ✔ stringr   1.5.0
    ## ✔ ggplot2   3.4.3     ✔ tibble    3.2.1
    ## ✔ lubridate 1.9.2     ✔ tidyr     1.3.0
    ## ✔ purrr     1.0.2     
    ## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
    ## ✖ dplyr::filter() masks stats::filter()
    ## ✖ dplyr::lag()    masks stats::lag()
    ## ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors

``` r
library(here)
```

    ## here() starts at C:/Users/magno/Desktop/p8105_hw2_mgw2144

``` r
rm(list=ls())
project.folder=
  paste0(print(here::here()),'/')
```

    ## [1] "C:/Users/magno/Desktop/p8105_hw2_mgw2144"

Problem 1

``` r
pols_month_df =
  read.csv(paste0(project.folder,"/data/pols-month.csv")) %>% 
  janitor::clean_names()%>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(
    month = replace(month, month == "01", "jan"),
    month = replace(month, month == "02", "feb"),
    month = replace(month, month == "03", "mar"),
    month = replace(month, month == "04", "apr"),
    month = replace(month, month == "05", "may"),
    month = replace(month, month == "06", "jun"),
    month = replace(month, month == "07", "jul"),
    month = replace(month, month == "08", "aug"),
    month = replace(month, month == "09", "sep"),
    month = replace(month, month == "10", "oct"),
    month = replace(month, month == "11", "nov"),
    month = replace(month, month == "12", "dec")
  ) %>% 
  mutate(president = if_else(prez_gop ==1, "gop", "dem")) %>% 
   select(-day, -prez_gop, -prez_dem)
```

``` r
snp_df = 
 read.csv(paste0(project.folder,"/data/snp.csv")) %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year")) %>% 
  mutate(
    month = replace(month, month == "1", "jan"),
    month = replace(month, month == "2", "feb"),
    month = replace(month, month == "3", "mar"),
    month = replace(month, month == "4", "apr"),
    month = replace(month, month == "5", "may"),
    month = replace(month, month == "6", "jun"),
    month = replace(month, month == "7", "jul"),
    month = replace(month, month == "8", "aug"),
    month = replace(month, month == "9", "sep"),
    month = replace(month, month == "10", "oct"),
    month = replace(month, month == "11", "nov"),
    month = replace(month, month == "12", "dec")
  ) %>% 
  select(-day) %>% 
  relocate(year, month)
```

``` r
unemployment_df = 
 read.csv(paste0(project.folder,"/data/unemployment.csv")) %>% 
  janitor::clean_names() %>% 
  pivot_longer(
    jan:dec,
    names_to = "month",
    values_to = "percent_unemployed"
  )
```

merge step

``` r
pols_snp_merge=
  left_join(pols_month_df, snp_df, by = "year")
```

#### 

will come backt to this \####

Problem 2

``` r
mr_trash_wheel=
  readxl::read_excel(paste0(project.folder,"/data/202207 Trash Wheel Collection Data.xlsx")) %>%
  janitor::clean_names() %>% 
  select(-"x15", -"x16") %>% 
  mutate(homes_powered=((weight_tons*500)/1000)) %>% 
  mutate(trash_data = "mr_tw")%>% 
  relocate(trash_data)
```

    ## New names:
    ## • `` -> `...15`
    ## • `` -> `...16`

``` r
professor_trash_wheel=
  readxl::read_excel(paste0(project.folder,"/data/202207 Trash Wheel Collection Data.xlsx"), sheet=2) %>% 
  janitor::clean_names() %>% 
  mutate(homes_powered=((weight_tons*500)/1000)) %>% 
  mutate(trash_data = "professor_tw") %>% 
  relocate(trash_data)
```

``` r
gwynnda_trash_wheel=
  readxl::read_excel(paste0(project.folder,"/data/202207 Trash Wheel Collection Data.xlsx"), sheet=4) %>% 
  janitor::clean_names() %>% 
  mutate(homes_powered=((weight_tons*500)/1000)) %>% 
  mutate(trash_data = "gwynnda_tw")%>% 
  relocate(trash_data)
```

converting year into numeric

``` r
mr_trash_wheel$year = as.numeric(mr_trash_wheel$year)
professor_trash_wheel$year = as.numeric(professor_trash_wheel$year)
gwynnda_trash_wheel$year = as.numeric(gwynnda_trash_wheel$year)
```

``` r
trash_wheel_total=
  bind_rows(mr_trash_wheel, professor_trash_wheel, gwynnda_trash_wheel) %>% 
  janitor::clean_names()
```

``` r
summary(trash_wheel_total)
```

    ##   trash_data           dumpster        month                year     
    ##  Length:751         Min.   :  1.0   Length:751         Min.   :2014  
    ##  Class :character   1st Qu.: 62.5   Class :character   1st Qu.:2017  
    ##  Mode  :character   Median :174.0   Mode  :character   Median :2019  
    ##                     Mean   :214.1                      Mean   :2019  
    ##                     3rd Qu.:360.5                      3rd Qu.:2021  
    ##                     Max.   :547.0                      Max.   :2022  
    ##                     NA's   :4                          NA's   :4     
    ##       date                         weight_tons       volume_cubic_yards
    ##  Min.   :1900-01-20 00:00:00.00   Min.   :   0.610   Min.   :   5.00   
    ##  1st Qu.:2017-04-06 00:00:00.00   1st Qu.:   2.490   1st Qu.:  15.00   
    ##  Median :2019-04-18 00:00:00.00   Median :   3.080   Median :  15.00   
    ##  Mean   :2018-12-17 13:00:43.36   Mean   :   5.998   Mean   :  30.22   
    ##  3rd Qu.:2021-07-10 12:00:00.00   3rd Qu.:   3.578   3rd Qu.:  15.00   
    ##  Max.   :2022-07-29 00:00:00.00   Max.   :1748.360   Max.   :8385.00   
    ##  NA's   :4                        NA's   :1          NA's   :1         
    ##  plastic_bottles    polystyrene     cigarette_butts    glass_bottles     
    ##  Min.   :      0   Min.   :     0   Min.   :       0   Min.   :    0.00  
    ##  1st Qu.:    980   1st Qu.:   420   1st Qu.:    3500   1st Qu.:    9.00  
    ##  Median :   1940   Median :  1125   Median :    6425   Median :   18.00  
    ##  Mean   :   4563   Mean   :  3617   Mean   :   34230   Mean   :   41.28  
    ##  3rd Qu.:   2900   3rd Qu.:  2638   3rd Qu.:   19000   3rd Qu.:   28.00  
    ##  Max.   :1071295   Max.   :902045   Max.   :11446020   Max.   :11844.00  
    ##  NA's   :1         NA's   :1        NA's   :1          NA's   :108       
    ##   grocery_bags      chip_bags       sports_balls    homes_powered    
    ##  Min.   :    24   Min.   :   180   Min.   :   0.0   Min.   :  0.305  
    ##  1st Qu.:   360   1st Qu.:   800   1st Qu.:   6.0   1st Qu.:  1.245  
    ##  Median :   780   Median :  1340   Median :  11.0   Median :  1.540  
    ##  Mean   :  2428   Mean   :  4796   Mean   :  25.1   Mean   :  2.999  
    ##  3rd Qu.:  1490   3rd Qu.:  2730   3rd Qu.:  18.0   3rd Qu.:  1.789  
    ##  Max.   :528146   Max.   :775969   Max.   :6878.6   Max.   :874.180  
    ##  NA's   :108      NA's   :108      NA's   :203      NA's   :1        
    ##   plastic_bags   
    ##  Min.   :     0  
    ##  1st Qu.:   245  
    ##  Median :   900  
    ##  Mean   :  1937  
    ##  3rd Qu.:  1500  
    ##  Max.   :103630  
    ##  NA's   :644

Problem 3

``` r
mci_baseline=
  read.csv(paste0(project.folder,"/data/MCI_baseline.csv"), skip = 1) %>% 
  janitor::clean_names()
```
